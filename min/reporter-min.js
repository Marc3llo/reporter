function reporter(e){function a(){var a=Trello.token(),n=new Date,r=window.location.href;$("#"+p+"-box #send").click(function(){var a="Frontend Feedback",n=$("#"+p+"-box #mail").val(),i=$("#"+p+"-box #desc").val();a.length>0&&i.length>0?(Trello.post("/cards",{name:a,desc:" \n**Feedback:** "+i+" \n\n--- \n\n **Reporter:** ["+n+"](mailto:"+n+") \n **Browser name:** ```"+t+"``` \n **Major version:** ```"+o+"``` \n **Window Size (H×W):** ```"+screenHeight+" × "+screenWidth+"px``` \n\n--- \n\n **Full version:** ```"+s+"``` \n **navigator.appName:** ```"+navigator.appName+"``` \n\n`"+navigator.userAgent+"`",idList:""+e,urlSource:r}),$("#"+p+"-bg, #"+p+"-box").removeClass("active"),$("#"+p+"-box #mail").val(""),$("#"+p+"-box #desc").val(""),$("#"+p+"-feedback").addClass("visible")):(n.length<1&&n.addClass("error"),i.length<1&&i.addClass("error"))})}function n(){console.log("Authorization failed.")}var r=navigator.appVersion,i=navigator.userAgent,t=navigator.appName,s=""+parseFloat(navigator.appVersion),o=parseInt(navigator.appVersion,10),d,l,c;-1!=(l=i.indexOf("Opera"))?(t="Opera",s=i.substring(l+6),-1!=(l=i.indexOf("Version"))&&(s=i.substring(l+8))):-1!=(l=i.indexOf("MSIE"))?(t="Microsoft Internet Explorer",s=i.substring(l+5)):-1!=(l=i.indexOf("Chrome"))?(t="Chrome",s=i.substring(l+7)):-1!=(l=i.indexOf("Safari"))?(t="Safari",s=i.substring(l+7),-1!=(l=i.indexOf("Version"))&&(s=i.substring(l+8))):-1!=(l=i.indexOf("Firefox"))?(t="Firefox",s=i.substring(l+8)):(d=i.lastIndexOf(" ")+1)<(l=i.lastIndexOf("/"))&&(t=i.substring(d,l),s=i.substring(l+1),t.toLowerCase()==t.toUpperCase()&&(t=navigator.appName)),-1!=(c=s.indexOf(";"))&&(s=s.substring(0,c)),-1!=(c=s.indexOf(" "))&&(s=s.substring(0,c)),o=parseInt(""+s,10),isNaN(o)&&(s=""+parseFloat(navigator.appVersion),o=parseInt(navigator.appVersion,10)),screenWidth=$("html").width(),screenHeight=$("html").height();var p="reporter";$("head").append('<link rel="stylesheet" href="http://cdn.rawgit.com/Marc3llo/reporter/master/styles.css">'),$("body").append('<div id="'+p+'-container"><div id="'+p+'-bg"></div><div id="'+p+'-box"><textarea required="required" id="desc" name="desc" id="" cols="30" rows="10" placeholder="Description"></textarea><input required="required" id="mail" type="email" placeholder="E-Mail"><button id="send">send feedback</button><button id="cancel">cancel</button><span>powered by <a href="http://duotones.ch" target="_blank">duotones</a></span></div></div><div id="'+p+'-feedback" class="visible">send feedback</div>'),$("#"+p+"-feedback").on("click",function(){$("#"+p+"-bg, #"+p+"-box").addClass("active"),$("#"+p+"-feedback").removeClass("visible")}),Trello.authorize({interactive:!0,type:"popup",expiration:"never",name:"Feedback",persist:"true",success:function(){a()},error:function(){n()},scope:{read:!0,write:!0}}),$("#"+p+"-box #cancel").on("click",function(){$("#"+p+"-bg, #"+p+"-box").removeClass("active"),$("#"+p+" #mail").val(""),$("#"+p+" #desc").val(""),$("#"+p+"-feedback").addClass("visible")})}